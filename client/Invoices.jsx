import React,{useEffect,useState} from 'react';import axios from 'axios';export default function Invoices(){ const [inv,setInv]=useState([]); useEffect(()=>{ axios.get('/api/invoices',{headers:{Authorization:'Bearer '+localStorage.getItem('token')}}).then(r=>setInv(r.data)).catch(()=>{}); },[]); const create=async()=>{ const body={invoiceNo:'INV-AUTO',shipmentId:null,amount:1200,currency:'EUR'}; const r=await axios.post('/api/invoices', body, {headers:{Authorization:'Bearer '+localStorage.getItem('token')}}); setInv(prev=>[r.data,...prev]); }; return (<div className='max-w-7xl mx-auto space-y-4'><div className='flex justify-between items-center'><h2 className='text-xl font-semibold'>Faturalar</h2><div className='flex gap-2'><button onClick={create} className='btn-fiori'>Yeni Fatura</button><a href='/api/export/accounting.csv' className='border px-3 rounded'>Muhasebe Dışa Aktar</a></div></div><div className='card'><table className='w-full text-sm'><thead className='text-slate-500 bg-slate-50'><tr><th className='p-2'>Fatura No</th><th className='p-2'>Sevkiyat</th><th className='p-2'>Tutar</th><th className='p-2'>Durum</th></tr></thead><tbody>{inv.map(i=>(<tr key={i.id} className='border-t'><td className='p-2'>{i.invoiceNo}</td><td className='p-2'>{i.shipmentId}</td><td className='p-2'>{i.amount} {i.currency}</td><td className='p-2'>-</td></tr>))}</tbody></table></div></div>