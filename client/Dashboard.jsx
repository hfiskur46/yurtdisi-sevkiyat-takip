import React,{useEffect,useState} from 'react';import axios from 'axios';import { AreaChart, Area, XAxis, YAxis, Tooltip, ResponsiveContainer, PieChart, Pie, Cell } from 'recharts';export default function Dashboard(){ const [stats,setStats]=useState({total:0,ongoing:0,done:0}); useEffect(()=>{ axios.get('/api/shipments',{headers:{Authorization:'Bearer '+localStorage.getItem('token')}}).then(r=>{ const data=r.data; setStats({total:data.length, ongoing:data.filter(s=>s.status!=='Teslim').length, done:data.filter(s=>s.status==='Teslim').length}); }).catch(()=>{}); },[]); const kpi=[{label:'Toplam Sevkiyat',value:stats.total},{label:'Açık Faturalar',value:0},{label:'Teslim Edilen',value:stats.done},{label:'Toplam Kâr (€)',value:0}]; const areaData=[{date:'01',profit:2000},{date:'05',profit:7200},{date:'10',profit:4300},{date:'15',profit:7600}]; const pieData=[{name:'Karayolu',value:180},{name:'Denizyolu',value:140},{name:'Havayolu',value:92}]; const COLORS=['#0fb7c3','#06b6d4','#f97316']; return (<div className='max-w-7xl mx-auto space-y-6'><div className='grid grid-cols-1 md:grid-cols-4 gap-4'>{kpi.map((k,i)=>(<div key={i} className='kpi'><div className='text-sm text-slate-500'>{k.label}</div><div className='text-2xl font-bold'>{k.value}</div></div>))}</div><div className='grid grid-cols-1 lg:grid-cols-3 gap-6'><div className='col-span-2 card'><h3 className='font-semibold mb-2'>Sevkiyat & Kâr (Aylık)</h3><div style={{width:'100%',height:260}}><ResponsiveContainer><AreaChart data={areaData}><defs><linearGradient id='grad' x1='0' y1='0' x2='0' y2='1'><stop offset='5%' stopColor='#0fb7c3' stopOpacity={0.3}/><stop offset='95%' stopColor='#0fb7c3' stopOpacity={0}/></linearGradient></defs><XAxis dataKey='date'/><YAxis/><Tooltip/><Area type='monotone' dataKey='profit' stroke='#0fb7c3' fill='url(#grad)'/></AreaChart></ResponsiveContainer></div></div><div className='card'><h3 className='font-semibold mb-2'>Mod Dağılımı</h3><div style={{width:'100%',height:260}}><ResponsiveContainer><PieChart><Pie data={pieData} dataKey='value' innerRadius={50} outerRadius={80}>{pieData.map((entry,index)=>(<Cell key={index} fill={COLORS[index%COLORS.length]}/>))}</Pie></PieChart></ResponsiveContainer></div></div></div><div className='card'><h3 className='font-semibold mb-2'>Son Sevkiyatlar</h3><table className='w-full text-sm'><thead><tr className='text-slate-500'><th>No</th><th>Mod</th><th>Müşteri</th><th>Durum</th><th>Kâr (€)</th></tr></thead><tbody></tbody></table></div></div>}